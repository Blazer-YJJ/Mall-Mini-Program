{"version":3,"names":["_sfc_main","computed","_objectSpread2","common_vendor","mapState","methods","mapMutations","goToOrders","userInfo","checkLogin","index","navigateTo","url","goToAddress","goToAbout","showToast","title","icon","setTimeout","handleLogout","_this","showModal","content","success","res","confirm","setUserInfo","wx","createPage","MiniProgramPage"],"sources":["profile.vue","D:/install_project/HBuilderX.4.29.2024093009/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci9wcm9maWxlLnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"profile-container\">\n    <view class=\"user-info\">\n      <view class=\"avatar-box\">\n        <image src=\"/static/logo.png\" mode=\"aspectFit\" class=\"avatar\"></image>\n      </view>\n      <view class=\"info-box\">\n        <text class=\"nickname\">{{ userInfo ? userInfo.nickname : '未登录' }}</text>\n        <text class=\"phone\" v-if=\"userInfo\">{{ userInfo.phone }}</text>\n      </view>\n    </view>\n    <view class=\"menu-list\">\n      <u-cell-group>\n        <u-cell title=\"我的订单\" icon=\"shopping-cart\" is-link @click=\"goToOrders\" />\n        <u-cell title=\"收货地址\" icon=\"map\" is-link @click=\"goToAddress\" />\n        <u-cell title=\"关于我们\" icon=\"info-circle\" is-link @click=\"goToAbout\" />\n      </u-cell-group>\n    </view>\n    <view class=\"logout-btn\" v-if=\"userInfo\">\n      <u-button type=\"error\" @click=\"handleLogout\">退出登录</u-button>\n    </view>\n  </view>\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex'\n\nexport default {\n  computed: {\n    ...mapState(['userInfo'])\n  },\n  methods: {\n    ...mapMutations(['setUserInfo']),\n    goToOrders() {\n      if (!this.userInfo) {\n        this.checkLogin()\n        return\n      }\n      uni.navigateTo({\n        url: '/pages/order/list'\n      })\n    },\n    goToAddress() {\n      if (!this.userInfo) {\n        this.checkLogin()\n        return\n      }\n      uni.navigateTo({\n        url: '/pages/user/address'\n      })\n    },\n    goToAbout() {\n      uni.navigateTo({\n        url: '/pages/about/index'\n      })\n    },\n    checkLogin() {\n      uni.showToast({\n        title: '请先登录',\n        icon: 'none'\n      })\n      setTimeout(() => {\n        uni.navigateTo({\n          url: '/pages/user/login'\n        })\n      }, 1500)\n    },\n    handleLogout() {\n      uni.showModal({\n        title: '提示',\n        content: '确定要退出登录吗？',\n        success: (res) => {\n          if (res.confirm) {\n            this.setUserInfo(null)\n            uni.showToast({\n              title: '已退出登录',\n              icon: 'success'\n            })\n          }\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.profile-container {\n  .user-info {\n    display: flex;\n    align-items: center;\n    padding: 40rpx;\n    background-color: #f8f8f8;\n    .avatar-box {\n      .avatar {\n        width: 120rpx;\n        height: 120rpx;\n        border-radius: 50%;\n      }\n    }\n    .info-box {\n      margin-left: 30rpx;\n      .nickname {\n        font-size: 32rpx;\n        font-weight: bold;\n      }\n      .phone {\n        font-size: 24rpx;\n        color: #666;\n        margin-top: 10rpx;\n      }\n    }\n  }\n  .menu-list {\n    margin-top: 20rpx;\n  }\n  .logout-btn {\n    margin: 40rpx;\n  }\n}\n</style>","import MiniProgramPage from 'E:/uniapp/Mall-Mini-Program/pages/user/profile.vue'\nwx.createPage(MiniProgramPage)"],"mappings":";;;;;;;AA2BA,IAAKA,SAAA,GAAU;EACbC,QAAA,EAAAC,cAAA,KACKC,aAAA,CAAQC,QAAA,CAAC,CAAC,UAAU,CAAC,EACzB;EACDC,OAAA,EAAAH,cAAA,CAAAA,cAAA,KACKC,aAAA,CAAYG,YAAA,CAAC,CAAC,aAAa,CAAC;IAC/BC,UAAA,WAAAA,WAAA,EAAa;MACX,IAAI,CAAC,KAAKC,QAAA,EAAU;QAClB,KAAKC,UAAA,EAAW;QAChB;MACF;MACAN,aAAA,CAAAO,KAAA,CAAIC,UAAA,CAAW;QACbC,GAAA,EAAK;MAAA,CACN;IACF;IACDC,WAAA,WAAAA,YAAA,EAAc;MACZ,IAAI,CAAC,KAAKL,QAAA,EAAU;QAClB,KAAKC,UAAA,EAAW;QAChB;MACF;MACAN,aAAA,CAAAO,KAAA,CAAIC,UAAA,CAAW;QACbC,GAAA,EAAK;MAAA,CACN;IACF;IACDE,SAAA,WAAAA,UAAA,EAAY;MACVX,aAAA,CAAAO,KAAA,CAAIC,UAAA,CAAW;QACbC,GAAA,EAAK;MAAA,CACN;IACF;IACDH,UAAA,WAAAA,WAAA,EAAa;MACXN,aAAA,CAAAO,KAAA,CAAIK,SAAA,CAAU;QACZC,KAAA,EAAO;QACPC,IAAA,EAAM;MAAA,CACP;MACDC,UAAA,CAAW,YAAM;QACff,aAAA,CAAAO,KAAA,CAAIC,UAAA,CAAW;UACbC,GAAA,EAAK;QAAA,CACN;MACF,GAAE,IAAI;IACR;IACDO,YAAA,WAAAA,aAAA,EAAe;MAAA,IAAAC,KAAA;MACbjB,aAAA,CAAAO,KAAA,CAAIW,SAAA,CAAU;QACZL,KAAA,EAAO;QACPM,OAAA,EAAS;QACTC,OAAA,EAAS,SAAAA,QAACC,GAAA,EAAQ;UAChB,IAAIA,GAAA,CAAIC,OAAA,EAAS;YACfL,KAAA,CAAKM,WAAA,CAAY,IAAI;YACrBvB,aAAA,CAAAO,KAAA,CAAIK,SAAA,CAAU;cACZC,KAAA,EAAO;cACPC,IAAA,EAAM;YAAA,CACP;UACH;QACF;MAAA,CACD;IACH;EAAA;AAEJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClFAU,EAAA,CAAGC,UAAA,CAAWC,eAAe","ignoreList":[]}