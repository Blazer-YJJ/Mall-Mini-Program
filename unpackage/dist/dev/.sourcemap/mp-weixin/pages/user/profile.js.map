{"version":3,"file":"profile.js","sources":["pages/user/profile.vue","D:/install_project/HBuilderX.4.29.2024093009/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci9wcm9maWxlLnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"profile-container\">\n    <view class=\"user-info\">\n      <view class=\"avatar-box\">\n        <image src=\"/static/logo.png\" mode=\"aspectFit\" class=\"avatar\"></image>\n      </view>\n      <view class=\"info-box\">\n        <text class=\"nickname\">{{ userInfo ? userInfo.nickname : '未登录' }}</text>\n        <text class=\"phone\" v-if=\"userInfo\">{{ userInfo.phone }}</text>\n      </view>\n    </view>\n    <view class=\"menu-list\">\n      <u-cell-group>\n        <u-cell title=\"我的订单\" icon=\"shopping-cart\" is-link @click=\"goToOrders\" />\n        <u-cell title=\"收货地址\" icon=\"map\" is-link @click=\"goToAddress\" />\n        <u-cell title=\"关于我们\" icon=\"info-circle\" is-link @click=\"goToAbout\" />\n      </u-cell-group>\n    </view>\n    <view class=\"logout-btn\" v-if=\"userInfo\">\n      <u-button type=\"error\" @click=\"handleLogout\">退出登录</u-button>\n    </view>\n  </view>\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex'\n\nexport default {\n  computed: {\n    ...mapState(['userInfo'])\n  },\n  methods: {\n    ...mapMutations(['setUserInfo']),\n    goToOrders() {\n      if (!this.userInfo) {\n        this.checkLogin()\n        return\n      }\n      uni.navigateTo({\n        url: '/pages/order/list'\n      })\n    },\n    goToAddress() {\n      if (!this.userInfo) {\n        this.checkLogin()\n        return\n      }\n      uni.navigateTo({\n        url: '/pages/user/address'\n      })\n    },\n    goToAbout() {\n      uni.navigateTo({\n        url: '/pages/about/index'\n      })\n    },\n    checkLogin() {\n      uni.showToast({\n        title: '请先登录',\n        icon: 'none'\n      })\n      setTimeout(() => {\n        uni.navigateTo({\n          url: '/pages/user/login'\n        })\n      }, 1500)\n    },\n    handleLogout() {\n      uni.showModal({\n        title: '提示',\n        content: '确定要退出登录吗？',\n        success: (res) => {\n          if (res.confirm) {\n            this.setUserInfo(null)\n            uni.showToast({\n              title: '已退出登录',\n              icon: 'success'\n            })\n          }\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.profile-container {\n  .user-info {\n    display: flex;\n    align-items: center;\n    padding: 40rpx;\n    background-color: #f8f8f8;\n    .avatar-box {\n      .avatar {\n        width: 120rpx;\n        height: 120rpx;\n        border-radius: 50%;\n      }\n    }\n    .info-box {\n      margin-left: 30rpx;\n      .nickname {\n        font-size: 32rpx;\n        font-weight: bold;\n      }\n      .phone {\n        font-size: 24rpx;\n        color: #666;\n        margin-top: 10rpx;\n      }\n    }\n  }\n  .menu-list {\n    margin-top: 20rpx;\n  }\n  .logout-btn {\n    margin: 40rpx;\n  }\n}\n</style>","import MiniProgramPage from 'E:/uniapp/Mall-Mini-Program/pages/user/profile.vue'\nwx.createPage(MiniProgramPage)"],"names":["mapState","mapMutations","uni"],"mappings":";;;AA2BA,MAAK,YAAU;AAAA,EACb,UAAU;AAAA,IACR,GAAGA,cAAQ,SAAC,CAAC,UAAU,CAAC;AAAA,EACzB;AAAA,EACD,SAAS;AAAA,IACP,GAAGC,cAAY,aAAC,CAAC,aAAa,CAAC;AAAA,IAC/B,aAAa;AACX,UAAI,CAAC,KAAK,UAAU;AAClB,aAAK,WAAW;AAChB;AAAA,MACF;AACAC,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,OACN;AAAA,IACF;AAAA,IACD,cAAc;AACZ,UAAI,CAAC,KAAK,UAAU;AAClB,aAAK,WAAW;AAChB;AAAA,MACF;AACAA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,OACN;AAAA,IACF;AAAA,IACD,YAAY;AACVA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,OACN;AAAA,IACF;AAAA,IACD,aAAa;AACXA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,OACP;AACD,iBAAW,MAAM;AACfA,sBAAAA,MAAI,WAAW;AAAA,UACb,KAAK;AAAA,SACN;AAAA,MACF,GAAE,IAAI;AAAA,IACR;AAAA,IACD,eAAe;AACbA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,CAAC,QAAQ;AAChB,cAAI,IAAI,SAAS;AACf,iBAAK,YAAY,IAAI;AACrBA,0BAAAA,MAAI,UAAU;AAAA,cACZ,OAAO;AAAA,cACP,MAAM;AAAA,aACP;AAAA,UACH;AAAA,QACF;AAAA,OACD;AAAA,IACH;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClFA,GAAG,WAAW,eAAe;"}