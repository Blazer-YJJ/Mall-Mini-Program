{"version":3,"file":"list.js","sources":["pages/order/list.vue","D:/install_project/HBuilderX.4.29.2024093009/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvb3JkZXIvbGlzdC52dWU"],"sourcesContent":["<template>\n  <view class=\"order-list-container\">\n    <!-- 订单状态选项卡 -->\n    <view class=\"status-tabs\">\n      <view \n        class=\"tab-item\" \n        v-for=\"(item, index) in statusList\" \n        :key=\"index\"\n        :class=\"{active: currentStatus === item.value}\"\n        @click=\"switchStatus(item.value)\"\n      >\n        {{ item.label }}\n      </view>\n    </view>\n    \n    <!-- 订单列表 -->\n    <view class=\"order-list\" v-if=\"orderList.length > 0\">\n      <view class=\"order-item\" v-for=\"(order, index) in orderList\" :key=\"index\">\n        <view class=\"order-header\">\n          <text class=\"order-no\">订单号：{{ order.orderNo }}</text>\n          <text class=\"order-status\">{{ getStatusText(order.status) }}</text>\n        </view>\n        <view class=\"goods-list\">\n          <view class=\"goods-item\" v-for=\"(goods, goodsIndex) in order.goodsList\" :key=\"goodsIndex\">\n            <image :src=\"goods.image\" mode=\"aspectFill\" class=\"goods-image\"></image>\n            <view class=\"goods-info\">\n              <text class=\"goods-name\">{{ goods.name }}</text>\n              <view class=\"goods-price-box\">\n                <text class=\"goods-price\">¥{{ goods.price }}</text>\n                <text class=\"goods-count\">x{{ goods.count }}</text>\n              </view>\n            </view>\n          </view>\n        </view>\n        <view class=\"order-footer\">\n          <view class=\"total-box\">\n            <text>共{{ order.totalCount }}件商品 合计：</text>\n            <text class=\"price\">¥{{ order.totalAmount }}</text>\n          </view>\n          <view class=\"btn-group\">\n            <u-button v-if=\"order.status === 'pending'\" size=\"mini\" @click=\"cancelOrder(order.id)\">取消订单</u-button>\n            <u-button v-if=\"order.status === 'pending'\" type=\"primary\" size=\"mini\" @click=\"payOrder(order.id)\">去支付</u-button>\n            <u-button v-if=\"order.status === 'shipped'\" type=\"primary\" size=\"mini\" @click=\"confirmReceive(order.id)\">确认收货</u-button>\n            <u-button v-if=\"order.status === 'completed'\" type=\"info\" size=\"mini\" @click=\"viewLogistics(order.id)\">查看物流</u-button>\n          </view>\n        </view>\n      </view>\n    </view>\n    \n    <!-- 空状态 -->\n    <view class=\"empty\" v-else>\n      <u-empty text=\"暂无相关订单\" mode=\"order\"></u-empty>\n    </view>\n  </view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      currentStatus: 'all',\n      statusList: [\n        { label: '全部', value: 'all' },\n        { label: '待付款', value: 'pending' },\n        { label: '待发货', value: 'paid' },\n        { label: '待收货', value: 'shipped' },\n        { label: '已完成', value: 'completed' }\n      ],\n      orderList: []\n    }\n  },\n  onLoad() {\n    this.loadOrderList()\n  },\n  methods: {\n    switchStatus(status) {\n      this.currentStatus = status\n      this.loadOrderList()\n    },\n    async loadOrderList() {\n      try {\n        // 模拟订单数据\n        const mockOrders = [\n          {\n            id: 1,\n            orderNo: 'O' + Date.now(),\n            status: 'pending',\n            goodsList: [\n              {\n                id: 1,\n                name: '商品1',\n                price: 199,\n                count: 1,\n                image: '/static/logo.png'\n              }\n            ],\n            totalCount: 1,\n            totalAmount: '199.00',\n            createTime: '2023-01-01 12:00:00'\n          },\n          {\n            id: 2,\n            orderNo: 'O' + (Date.now() - 86400000),\n            status: 'shipped',\n            goodsList: [\n              {\n                id: 2,\n                name: '商品2',\n                price: 299,\n                count: 2,\n                image: '/static/logo.png'\n              },\n              {\n                id: 3,\n                name: '商品3',\n                price: 99,\n                count: 1,\n                image: '/static/logo.png'\n              }\n            ],\n            totalCount: 3,\n            totalAmount: '697.00',\n            createTime: '2022-12-30 15:30:00'\n          }\n        ]\n        \n        if (this.currentStatus !== 'all') {\n          this.orderList = mockOrders.filter(order => order.status === this.currentStatus)\n        } else {\n          this.orderList = mockOrders\n        }\n      } catch (error) {\n        uni.showToast({\n          title: '加载失败',\n          icon: 'none'\n        })\n      }\n    },\n    getStatusText(status) {\n      const statusMap = {\n        'pending': '待付款',\n        'paid': '待发货',\n        'shipped': '待收货',\n        'completed': '已完成',\n        'cancelled': '已取消'\n      }\n      return statusMap[status] || '未知状态'\n    },\n    cancelOrder(orderId) {\n      uni.showModal({\n        title: '提示',\n        content: '确定要取消该订单吗？',\n        success: (res) => {\n          if (res.confirm) {\n            uni.showToast({\n              title: '订单已取消',\n              icon: 'success'\n            })\n            this.loadOrderList()\n          }\n        }\n      })\n    },\n    payOrder(orderId) {\n      uni.showLoading({\n        title: '正在跳转支付'\n      })\n      setTimeout(() => {\n        uni.hideLoading()\n        uni.showToast({\n          title: '支付成功',\n          icon: 'success'\n        })\n        this.loadOrderList()\n      }, 1500)\n    },\n    confirmReceive(orderId) {\n      uni.showModal({\n        title: '提示',\n        content: '确认已收到商品？',\n        success: (res) => {\n          if (res.confirm) {\n            uni.showToast({\n              title: '确认收货成功',\n              icon: 'success'\n            })\n            this.loadOrderList()\n          }\n        }\n      })\n    },\n    viewLogistics(orderId) {\n      uni.showToast({\n        title: '物流信息查询中',\n        icon: 'none'\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.order-list-container {\n  min-height: 100vh;\n  background-color: #f8f8f8;\n  \n  .status-tabs {\n    display: flex;\n    background-color: #fff;\n    padding: 20rpx 0;\n    border-bottom: 1rpx solid #eee;\n    \n    .tab-item {\n      flex: 1;\n      text-align: center;\n      font-size: 28rpx;\n      color: #666;\n      position: relative;\n      padding-bottom: 10rpx;\n      \n      &.active {\n        color: #2979ff;\n        font-weight: bold;\n        \n        &:after {\n          content: '';\n          position: absolute;\n          bottom: -10rpx;\n          left: 50%;\n          transform: translateX(-50%);\n          width: 40rpx;\n          height: 4rpx;\n          background-color: #2979ff;\n        }\n      }\n    }\n  }\n  \n  .order-list {\n    padding: 20rpx;\n    \n    .order-item {\n      background-color: #fff;\n      border-radius: 12rpx;\n      margin-bottom: 20rpx;\n      overflow: hidden;\n      \n      .order-header {\n        display: flex;\n        justify-content: space-between;\n        padding: 20rpx;\n        border-bottom: 1rpx solid #f5f5f5;\n        \n        .order-no {\n          font-size: 26rpx;\n          color: #666;\n        }\n        \n        .order-status {\n          font-size: 26rpx;\n          color: #ff5500;\n        }\n      }\n      \n      .goods-list {\n        .goods-item {\n          display: flex;\n          padding: 20rpx;\n          border-bottom: 1rpx solid #f5f5f5;\n          \n          .goods-image {\n            width: 160rpx;\n            height: 160rpx;\n            margin-right: 20rpx;\n          }\n          \n          .goods-info {\n            flex: 1;\n            display: flex;\n            flex-direction: column;\n            justify-content: space-between;\n            \n            .goods-name {\n              font-size: 28rpx;\n              color: #333;\n            }\n            \n            .goods-price-box {\n              display: flex;\n              justify-content: space-between;\n              \n              .goods-price {\n                font-size: 32rpx;\n                color: #ff5500;\n                font-weight: bold;\n              }\n              \n              .goods-count {\n                font-size: 28rpx;\n                color: #999;\n              }\n            }\n          }\n        }\n      }\n      \n      .order-footer {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding: 20rpx;\n        \n        .total-box {\n          font-size: 26rpx;\n          color: #666;\n          \n          .price {\n            color: #ff5500;\n            font-size: 32rpx;\n            font-weight: bold;\n          }\n        }\n        \n        .btn-group {\n          display: flex;\n          \n          button {\n            margin-left: 20rpx;\n            font-size: 24rpx;\n          }\n        }\n      }\n    }\n  }\n  \n  .empty {\n    padding: 100rpx 0;\n  }\n}\n</style>","import MiniProgramPage from 'E:/uniapp/Mall-Mini-Program/pages/order/list.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":"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"}